{% extends "base.html" %}
{% block content %}
  <div class="dashboard-3d">
    <section class="panel-3d form-panel narrow">
      <div class="panel-head">
        <div>
          <h3 class="mb-1">App Settings</h3>
          <p class="mb-0">Toggle advanced features for barcode and GST tracking.</p>
        </div>
        <a href="/" class="btn-3d alt sm">Dashboard</a>
      </div>
      <form method="POST" class="row g-3">
        <div class="col-12">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="advanced-mode" name="advanced_mode" value="on" {% if mode == 'on' %}checked{% endif %}>
            <label class="form-check-label" for="advanced-mode">
              Enable Advanced Mode (Barcode &amp; GST features)
            </label>
          </div>
        </div>
        <div class="col-12">
          <hr>
          <h5 class="mb-2">Email OTP Settings</h5>
          <small class="text-muted d-block mb-2">These override environment variables only if set.</small>
        </div>
        <div class="col-12 col-md-6">
          <label class="form-label" for="otp-sender">Sender Email</label>
          <input type="email" id="otp-sender" name="otp_sender" class="form-control" value="{{ otp_sender or '' }}" placeholder="your_email@example.com">
        </div>
        <div class="col-12 col-md-6">
          <label class="form-label" for="otp-pass">App Password</label>
          <input type="password" id="otp-pass" name="otp_sender_password" class="form-control" value="{{ otp_sender_password or '' }}" placeholder="16-char app password">
        </div>
        <div class="col-12 btn-row">
          <button type="submit" class="btn-cta-3d">Save Settings</button>
          <a href="/shop_profile" class="btn-3d">Shop Profile</a>
        </div>
      </form>
    </section>
  </div>
{% endblock %}
