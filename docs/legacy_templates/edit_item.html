{% extends "base.html" %}
{% block content %}
  <div class="dashboard-3d">
    <section class="panel-3d form-panel narrow">
      <div class="panel-head">
        <div>
          <h3 class="mb-1">Edit Item</h3>
          <p class="mb-0">Update pricing, stock, and optional advanced details.</p>
        </div>
        <a href="/" class="btn-3d alt sm">Back</a>
      </div>
      <form method="POST" class="row g-3">
        <div class="col-12">
          <label class="form-label" for="item-name">Name</label>
          <input type="text" id="item-name" name="name" class="form-control" value="{{ item[1] }}" required>
        </div>
        <div class="col-12 col-md-6">
          <label class="form-label" for="item-price">Price</label>
          <input type="number" step="0.01" id="item-price" name="price" class="form-control" value="{{ item[2] }}" required>
        </div>
        <div class="col-12 col-md-6">
          <label class="form-label" for="item-stock">Stock</label>
          <input type="number" id="item-stock" name="stock" class="form-control" value="{{ item[3] }}" min="0" required>
        </div>
        <div class="col-12 col-md-6">
          <label class="form-label" for="item-reorder">Reorder Level</label>
          <input type="number" id="item-reorder" name="reorder_level" class="form-control" value="{{ item[6] if item|length > 6 else 5 }}" min="0" required>
        </div>
        {% if advanced_mode == 'on' %}
          <div class="col-12 col-md-6">
            <label class="form-label" for="item-barcode">Barcode</label>
            <input type="text" id="item-barcode" name="barcode" class="form-control" value="{{ item[4] }}" placeholder="Scan or type code">
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label" for="item-gst">GST Rate (%)</label>
            <input type="number" step="0.01" id="item-gst" name="gst_rate" class="form-control" value="{{ item[5] }}">
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label" for="item-hsn">HSN Code</label>
            <input type="text" id="item-hsn" name="hsn" class="form-control" value="{{ item[7] if item|length > 7 else '' }}" placeholder="HSN for GST invoices">
          </div>
        {% endif %}
        <div class="col-12 btn-row">
          <button type="submit" class="btn-cta-3d">Update Item</button>
          <a href="/" class="btn-3d alt">Cancel</a>
        </div>
      </form>
    </section>
  </div>
{% endblock %}
